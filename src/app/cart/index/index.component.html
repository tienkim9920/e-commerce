
<div class="layout-cart container">
    <div class="group-my-cart">
        <div class="header-cart">
            <div class="name-header-cart">Giỏ hàng của bạn</div>
        </div>
        <div class="body-cart">
            <table>
                <thead>
                    <tr>
                        <th>Tên sản phẩm</th>
                        <th>Hình ảnh</th>
                        <th>Giá</th>
                        <th>Kích Thước</th>
                        <th>Số lượng</th>
                        <th>Xóa</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let item of myCarts; index as i">
                        <td>{{ item.name }}</td>
                        <td><img class="img-body-cart" src="{{ item.image }}" alt=""></td>
                        <td>{{ item.price | currency: 'VND' }}</td>
                        <td>{{ item.size }}</td>
                        <td>
                            <input (change)="handlerUpdate(item.productId)" 
                                class="input-count-cart"
                                id="{{ item.productId }}"
                                type="number" 
                                value="{{ item.count }}" 
                                max="20" min="1">
                        </td>
                        <td><i class="fa fa-trash padding-icon-cart" (click)="handlerDelete(i)"></i></td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
    <div class="group-another-cart">
        <div class="header-cart">
            <div class="name-header-cart">Giỏ hàng giao dịch</div>
            <div [routerLink]="['/cart/setting']" class="padding-icon-cart">
                <i class="fa fa-gear icon-profile" style="font-size: 28px;"></i>
            </div>
        </div>
        <div class="body-cart">
            <table>
                <thead>
                    <tr>
                        <th>Người dùng</th>
                        <th>Tên sản phẩm</th>
                        <th>Hình ảnh</th>
                        <th>Giá</th>
                        <th>Kích Thước</th>
                        <th>Số lượng</th>
                        <th>Xóa</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Nguyễn Kim Tiền</td>
                        <td>Áo thun Basic Young Green</td>
                        <td><img class="img-body-cart" src="https://cf.shopee.vn/file/982288c945924c88183d6cc2149484e3_tn" alt=""></td>
                        <td>70000</td>
                        <td>L</td>
                        <td><input class="input-count-cart" type="number" value="1" max="10" min="1"></td>
                        <td><i class="fa fa-trash padding-icon-cart"></i></td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

    <div class="group-ticket-cart">
        <div class="header-cart">
            <div class="name-header-cart">Khuyến mãi</div>
        </div>
        <div class="body-ticket-cart">
            <div class="left-body-ticket">Áp dụng mã ticket: </div>
            <div class="d-flex">
                <div><img class="icon-ticket" src="../../../assets/ticket.png" alt=""></div>
                <div class="center-body-ticket">
                    <div>Giảm giá 20% đơn hàng</div>
                    <div><span class="ticket active">Đã áp dụng</span></div>
                </div>
                <!-- <div class="mt-3">Bạn chưa chọn Ticket</div> -->
            </div>
            <div class="mt-3">
                <span style="color: #1A94FF; cursor: pointer;" 
                    data-bs-toggle="modal" data-bs-target="#chosse-ticket">Chọn Ticket</span>
            </div>
        </div>

        <div class="modal fade" id="chosse-ticket" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="exampleModalLabel">Chọn Social Ticket</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <div class="list-order-ticket">
                            <div class="warning-info-ticket">Vui lòng chọn một mã Ticket bất kì</div>
                            <div class="box-order-ticket">
                                <div><img class="icon-ticket" src="../../../assets/ticket.png" alt=""></div>
                                <div class="center-body-ticket">
                                    <div>Giảm giá 20% đơn hàng</div>
                                    <div><span class="ticket active">Chưa sử dụng</span></div>
                                </div>
                            </div>
                            <div class="box-order-ticket">
                                <div><img class="icon-ticket" src="../../../assets/ticket.png" alt=""></div>
                                <div class="center-body-ticket">
                                    <div>Giảm giá 20% đơn hàng</div>
                                    <div><span class="ticket active">Chưa sử dụng</span></div>
                                </div>
                            </div>
                            <div class="box-order-ticket">
                                <div><img class="icon-ticket" src="../../../assets/ticket.png" alt=""></div>
                                <div class="center-body-ticket">
                                    <div>Giảm giá 20% đơn hàng</div>
                                    <div><span class="ticket unactive">Đã sử dụng</span></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <div class="btn-click-ticket">Áp dụng</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="group-order-cart">
        <div>
            <div class="body-order-coupon">
                <input class="input-order-coupon" type="text" placeholder="Nhập mã giảm giá">
                <div>
                    <div class="btn-order-cart">Áp dụng</div>
                </div>
            </div>
        </div>
        <div class="body-order-cart">
            <h4 class="h4-order-cart">Tiến hành thanh toán</h4>
            <div class="detail-order-cart">
                <div>Thành Tiền</div>
                <div>{{ totalPayment.total | currency: 'VND' }}</div>
            </div>
            <div class="detail-order-cart">
                <div>Giảm giá</div>
                <div>{{ totalPayment.total - totalPayment.payment | currency: 'VND' }}</div>
            </div>
            <div class="detail-order-cart" style="font-family: 'Nunito Sans', sans-serif; font-size: 1.2rem;">
                <div>Tổng tiền</div>
                <div>{{ totalPayment.payment | currency: 'VND' }}</div>
            </div>
            <div (click)="handlerOrder()" class="btn-order-cart">
                Đặt Hàng
            </div>
        </div>
    </div>
</div>

<div class="position-fixed top-0 end-0" style="margin-top: 5rem; z-index: 99998;">
    <div id="liveToast" [ngClass]="toastSuccess ? 'toast show' : 'toast hide'" class="toast show" role="alert" aria-live="assertive" aria-atomic="true">
      <div class="toast-header">
        <strong class="me-auto">Thông báo</strong>
      </div>
      <div class="toast-body">
        Bạn đã cập nhật giỏ hàng thành công.
      </div>
    </div>
</div>
<div class="position-fixed top-0 end-0" style="margin-top: 5rem; z-index: 99998;">
    <div id="liveToast" [ngClass]="toastFail ? 'toast show' : 'toast hide'" class="toast show" role="alert" aria-live="assertive" aria-atomic="true">
      <div class="toast-header bg-danger">
        <strong class="me-auto">Thông báo</strong>
      </div>
      <div class="toast-body">
        Không thể thực hiện thao tác này!
      </div>
    </div>
</div>